<section class="main__form d-flex flex-row justify-content-center">
    <ng-container *ngIf="product$ | async as product">
        <form (ngSubmit)="updateProduct()" [formGroup]="updateForm" novalidate class="form--edit col-sm-6 col-lg-4">
            <div class="main__user-message"></div>
            <div class="form-group">
                <label for="title">Title</label>
                <input [(ngModel)]="product.title" formControlName="title" type="text" class="form-control" placeholder="Title" name="title" id="title" required minlength="4">
                <div class="error-messages" *ngIf="updateForm.controls['title'].invalid && (updateForm.controls['title'].dirty || updateForm.controls['title'].touched)" >
                    <div *ngIf="updateForm.controls['title'].errors.required || updateForm.controls['title'].errors.minlength">
                    Please enter title minimum of 4 characters long
                  </div>
                </div>
            </div>
            <div class="form-group">
                <label for="date">Date</label>
                <input [(ngModel)]="product.date" type="date" formControlName="date" class="form-control" placeholder="date" name="date" id="date" required>
                <div class="error-messages" *ngIf="updateForm.controls['date'].invalid && (updateForm.controls['date'].dirty || updateForm.controls['date'].touched)" >
                    <div *ngIf="updateForm.controls['date'].errors.required">
                    Please enter date
                  </div>
                </div>
            </div>
            <div class="form-group"> 
                <label for="imageUrl">Image Url</label>
                <input [(ngModel)]="product.image" type="text" formControlName="image"  class="form-control" placeholder="Image Url" name="image" id="imageUrl" required>
                <div class="error-messages" *ngIf="updateForm.controls['image'].invalid && (updateForm.controls['image'].dirty || updateForm.controls['image'].touched)" >
                    <div *ngIf="updateForm.controls['image'].errors.required || updateForm.controls['image'].errors.minlength">
                    Please enter image Url minimum of 10 characters long
                  </div>
                </div>
            </div>
            <div class="form-group"> 
                <label for="content">Content</label>
                <textarea class="form-control"  [(ngModel)]="product.content"  formControlName="content" rows="3" id="content" name="content" required></textarea>
                <div class="error-messages" *ngIf="updateForm.controls['content'].invalid && (updateForm.controls['content'].dirty || updateForm.controls['content'].touched)" >
                    <div *ngIf="updateForm.controls['content'].errors.required || updateForm.controls['content'].errors.minlength">
                    Please enter content minimum of 4 characters long
                  </div>
                </div>
            </div>
            <div>
                <button [disabled]="!updateForm.valid" type="submit" class="btn btn-primary btn-block">Submit</button>
                <button type="button" class="btn btn-block btn-delete" (click)="deleteProduct(product.id)">Delete this item</button>
                <a class="btn btn-block" routerLink="/" role="button">Cancel</a>
             </div>
        </form>
    </ng-container>
</section>